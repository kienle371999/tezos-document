(function(e){function t(t){for(var n,s,o=t[0],c=t[1],u=t[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"03e8":function(e,t,a){"use strict";var n=a("4e1f"),r=a.n(n);r.a},"0859":function(e,t,a){},"0f74":function(e,t,a){},"17dc":function(e,t,a){"use strict";var n=a("ea62"),r=a.n(n);r.a},"1a86":function(e,t,a){"use strict";var n=a("4e70"),r=a.n(n);r.a},"20aa":function(e,t,a){"use strict";var n=a("7460"),r=a.n(n);r.a},"22b5":function(e,t,a){"use strict";var n=a("8ca3"),r=a.n(n);r.a},2529:function(e,t,a){},4677:function(e,t,a){},"4e1f":function(e,t,a){},"4e70":function(e,t,a){},"555a":function(e,t,a){e.exports=a.p+"img/icon.e7f9f312.png"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],s=(a("5c0b"),a("2877")),o={},c=Object(s["a"])(o,r,i,!1,null,null,null),u=c.exports,l=a("9483");Object(l["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("45fc");var d=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("div",{staticClass:"form"},[a("h1",[e._v(e._s("Login"))]),a("form",{staticClass:"login-form"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("button",{attrs:{type:"button",disabled:e.getDisabled},on:{click:function(t){return e.submit()}}},[e._v(e._s("Submit"))]),a("div",{staticClass:"addition"},[a("a",{staticClass:"external-link1",attrs:{href:"/forgot-password"}},[e._v(e._s("Forgot Password"))]),a("a",{staticClass:"external-link2",attrs:{href:"/register"}},[e._v(e._s("Register"))])])])])])},p=[],f=(a("96cf"),a("1da1")),v={data:function(){return{email:null,password:null,getDisabled:null}},methods:{submit:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.email){t.next=5;break}return window.EventBus.$emit("ERROR","Empty email"),e.getDisabled=!0,e.disable(),t.abrupt("return");case 5:if(e.password){t.next=10;break}return window.EventBus.$emit("ERROR","Empty password"),e.getDisabled=!0,e.disable(),t.abrupt("return");case 10:if(e.validEmail(e.email)){t.next=15;break}return window.EventBus.$emit("ERROR","Invalid email"),e.getDisabled=!0,e.disable(),t.abrupt("return");case 15:return t.next=17,e.$auth.logIn({email:e.email,password:e.password});case 17:if(a=t.sent,a){while(!localStorage.getItem("user"))window.EventBus.$emit("SUCCESS","Success");e.$router.push("/account")}case 19:case"end":return t.stop()}}),t)})))()},validEmail:function(e){var t=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/;return t.test(e)},disable:function(){var e=this;setTimeout((function(){e.getDisabled=window.EventBus.$data.disable}),2500)}}},h=v,b=(a("17dc"),Object(s["a"])(h,m,p,!1,null,"35b0ac58",null)),g=b.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticClass:"item"},[a("ul",[e._m(0),a("li",{staticClass:"active",class:{background:e.activeAccount}},[a("a",{attrs:{href:"/account"}},[e._v(e._s("Account"))])]),a("li",{class:{background:e.activeInfo}},[a("a",{attrs:{href:"/information"}},[e._v(e._s("Information"))])]),a("li",{class:{background:e.activeTransaction}},[a("a",{attrs:{href:"/transaction"}},[e._v(e._s("Transaction"))])]),a("li",{class:{background:e.activeCertificate}},[a("a",{attrs:{href:"/certificate"}},[e._v(e._s("Certificate"))])]),a("li",{class:{background:e.activeAuthen}},[a("a",{attrs:{href:"/authentication"}},[e._v(e._s("Authentication"))])]),a("li",[a("a",{on:{click:function(t){return e.submit()}}},[e._v(e._s("Log out"))])])])])])},y=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("img",{staticClass:"icon",attrs:{src:a("555a")}})])}],_={props:{activeAccount:{type:Boolean,default:!1},activeInfo:{type:Boolean,default:!1},activeTransaction:{type:Boolean,default:!1},activeAuthen:{type:Boolean,default:!1},activeCertificate:{type:Boolean,default:!1}},methods:{submit:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$auth.logOut();case 2:a=t.sent,a&&e.$router.push("/");case 4:case"end":return t.stop()}}),t)})))()}}},k=_,C=(a("7b3a"),Object(s["a"])(k,w,y,!1,null,"5d3d18e6",null)),R=C.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("home",{attrs:{activeAccount:!0}}),a("div",{staticClass:"account"},[a("button",{class:{disable:e.getDisabled},attrs:{type:"button",disabled:e.getDisabled},on:{click:function(t){return e.getKey()}}},[e._v(e._s("Generate Key"))]),a("button",{class:{disable:e.downloadDisabled},attrs:{type:"button",disabled:e.downloadDisabled},on:{click:function(t){return e.downloadKey()}}},[e._v(e._s("Download"))])])],1)},E=[],O=(a("99af"),a("d4ec")),S=a("bee2"),D=a("262e"),j=a("2caf"),$=(a("d3b7"),a("2ef0")),P=a.n($),B=a("bc3a"),A=a.n(B),K=function(){function e(){Object(O["a"])(this,e),this._init()}return Object(S["a"])(e,[{key:"_init",value:function(){var e=localStorage.getItem("user");if(e)try{this._user=JSON.parse(e)}catch(t){console.log("Invalid stored user: "+e),localStorage.removeItem("user"),this._user=null}return this}},{key:"logIn",value:function(e){var t=this;return new Promise((function(a){A.a.post("".concat("http://127.0.0.1:9000","/api/user/login"),e).then((function(e){var n=e.data,r=JSON.stringify(n);t._user=JSON.parse(r),localStorage.setItem("user",r),a(n)})).catch((function(e){window.EventBus.$emit("ERROR",e.response.data.error)}))}))}},{key:"logOut",value:function(){return localStorage.removeItem("user"),{message:"Done"}}}]),e}(),N=new K;n["a"].prototype.$auth=N;var U=N,I=function(){function e(){Object(O["a"])(this,e)}return Object(S["a"])(e,[{key:"get",value:function(e,t){return this._doSelfRequest("GET",e,{params:t})}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._doSelfRequest("DELETE",e,{params:t})}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._doSelfRequest("PUT",e,{data:t})}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._doSelfRequest("POST",e,{data:t})}},{key:"_doSelfRequest",value:function(e,t,a){return this._doRequest(e,t,a)}},{key:"_doRequest",value:function(e,t,a){var n={Accept:"application/json","Content-type":"application/json",Authorization:"Bearer "+this._getAuthToken()},r=P.a.assign({method:e,url:t,headers:n},a);return new Promise((function(e){A()(r).then((function(t){t.data?e(t.data):window.EventBus.$emit("ERROR","Invalid response format: "+t)})).catch((function(e){if(401===e.response.status)return U.removeUser();window.EventBus.$emit("ERROR",e.response.data.error)}))}))}},{key:"_getAuthToken",value:function(){return U._user?U._user.token:""}}]),e}(),T=function(e){Object(D["a"])(a,e);var t=Object(j["a"])(a);function a(){return Object(O["a"])(this,a),t.apply(this,arguments)}return Object(S["a"])(a,[{key:"getURL",value:function(e){var t="http://127.0.0.1:3800";return t.concat(e)}},{key:"generateKey",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.getURL("/api/init-account"),e.abrupt("return",this.get(t));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"signCertificate",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.getURL("/api/sign-data"),e.abrupt("return",this.post(a,t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"authenticateCertificate",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.getURL("/api/authenticate-data"),e.abrupt("return",this.post(a,t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"broadcastCertificate",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.getURL("/api/broadcast-certificate"),e.abrupt("return",this.post(a,t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getContractDetail",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.getURL("/api/get-contract-detail"),e.abrupt("return",this.post(a,t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),a}(I),M=new T,L=M,q=a("21a6"),H={components:{Home:R},data:function(){return{neededKey:Object,getDisabled:!1,downloadDisabled:!1}},methods:{getKey:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L.generateKey();case 2:a=t.sent,e.neededKey=Object.assign({privateKey:a.privateKey,publicKey:a.publicKey,publicKeyHash:a.publicKeyHash}),e.getDisabled=!0;case 5:case"end":return t.stop()}}),t)})))()},downloadKey:function(){console.log(this.neededKey);var e="generated_key.txt",t=new Blob(["privateKey: ".concat(this.neededKey.privateKey,"\n"),"publicKey: ".concat(this.neededKey.publicKey,"\n"),"publicKeyHash: ".concat(this.neededKey.publicKeyHash,"\n")],{type:"text/plain;charset=utf-8"});Object(q["saveAs"])(t,e),this.downloadDisabled=!0}}},z=H,F=(a("b2bf"),Object(s["a"])(z,x,E,!1,null,"a3f8f998",null)),J=F.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"forgot"},[a("div",{staticClass:"form"},[a("h1",[e._v(e._s("Password"))]),a("form",{staticClass:"forgot-form"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("button",{attrs:{type:"button"},on:{click:function(t){return e.submit()}}},[e._v(e._s("Submit"))])])])])},V=[],Q={},W=Q,X=(a("8907"),Object(s["a"])(W,G,V,!1,null,"cc5e8036",null)),Y=X.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"register"},[a("div",{staticClass:"form"},[a("h1",[e._v(e._s("Register"))]),a("form",{staticClass:"register-form"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("button",{attrs:{type:"button",disabled:e.getDisabled},on:{click:function(t){return e.submit()}}},[e._v(e._s("Submit"))])])])])},ee=[],te=function(e){Object(D["a"])(a,e);var t=Object(j["a"])(a);function a(){return Object(O["a"])(this,a),t.apply(this,arguments)}return Object(S["a"])(a,[{key:"getURL",value:function(e){var t="http://127.0.0.1:9000";return t.concat(e)}},{key:"registerUser",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.getURL("/api/user/register-user"),e.abrupt("return",this.post(a,t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"generateCertificate",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.getURL("/api/user/generate-information"),e.abrupt("return",this.post(a,t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCertificate",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.getURL("/api/user/get-information"),e.abrupt("return",this.get(t));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCertificateToString",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.getURL("/api/user/get-certificate-string"),e.abrupt("return",this.get(a,t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createSignature",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.getURL("/api/user/create-signature"),e.abrupt("return",this.post(a,t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"storeHash",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.getURL("/api/user/store-hash"),e.abrupt("return",this.post(a,t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"initCertificate",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.getURL("/api/init-certificate-data"),e.abrupt("return",this.post(a,t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createCertificatePDF",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("ServerRequest -> createCertificatePDF -> params",t),a=this.getURL("/api/create-certificate-pdf"),e.abrupt("return",this.post(a,t));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendCertificateByMail",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.getURL("/api/send-mail-certificate"),e.abrupt("return",this.post(a,t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCertificateByCredential",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.getURL("/api/user/get-certificate-credential"),e.abrupt("return",this.get(a,t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),a}(I),ae=new te,ne=ae,re={data:function(){return{username:null,email:null,password:null,getDisabled:!1}},methods:{submit:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.username){t.next=5;break}return window.EventBus.$emit("ERROR","Empty username"),e.getDisabled=!0,e.disable(),t.abrupt("return");case 5:if(e.email){t.next=10;break}return window.EventBus.$emit("ERROR","Empty email"),e.getDisabled=!0,e.disable(),t.abrupt("return");case 10:if(e.password){t.next=15;break}return window.EventBus.$emit("ERROR","Empty password"),e.getDisabled=!0,e.disable(),t.abrupt("return");case 15:if(e.validEmail(e.email)){t.next=20;break}return window.EventBus.$emit("ERROR","Invalid email"),e.getDisabled=!0,e.disable(),t.abrupt("return");case 20:return t.next=22,ne.registerUser({username:e.username,email:e.email,password:e.password});case 22:a=t.sent,a&&(window.EventBus.$emit("SUCCESS","Success"),e.$router.push("/"));case 24:case"end":return t.stop()}}),t)})))()},validEmail:function(e){var t=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/;return t.test(e)},disable:function(){var e=this;setTimeout((function(){e.getDisabled=window.EventBus.$data.disable}),2500)}}},ie=re,se=(a("1a86"),Object(s["a"])(ie,Z,ee,!1,null,"9616fc64",null)),oe=se.exports,ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("home",{attrs:{activeInfo:!0}}),a("div",{staticClass:"info"},[a("div",{staticClass:"form"},[a("h1",[e._v(e._s("Information"))]),a("form",{staticClass:"info-form"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.identity,expression:"identity"}],attrs:{type:"text",placeholder:"Student ID"},domProps:{value:e.identity},on:{input:function(t){t.target.composing||(e.identity=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{type:"text",placeholder:"Diploma Type"},domProps:{value:e.type},on:{input:function(t){t.target.composing||(e.type=t.target.value)}}}),a("button",{attrs:{type:"button",disable:e.getDisabled},on:{click:function(t){return e.submit()}}},[e._v(e._s("Submit"))])])])])],1)},ue=[],le=(a("b0c0"),{components:{Home:R},data:function(){return{name:null,identity:null,email:null,type:null,getDisabled:!1}},methods:{submit:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.name){t.next=5;break}return window.EventBus.$emit("ERROR","Empty name"),e.getDisabled=!0,e.disable(),t.abrupt("return");case 5:if(e.identity){t.next=10;break}return window.EventBus.$emit("ERROR","Empty Student ID"),e.getDisabled=!0,e.disable(),t.abrupt("return");case 10:if(e.email){t.next=15;break}return window.EventBus.$emit("ERROR","Empty email"),e.getDisabled=!0,e.disable(),t.abrupt("return");case 15:if(e.type){t.next=20;break}return window.EventBus.$emit("ERROR","Empty Diploma Type"),e.getDisabled=!0,e.disable(),t.abrupt("return");case 20:if(e.validEmail(e.email)){t.next=25;break}return window.EventBus.$emit("ERROR","Invalid email"),e.getDisabled=!0,e.disable(),t.abrupt("return");case 25:return t.next=27,ne.generateCertificate({name:e.name,identity:e.identity,email:e.email,type:e.type});case 27:a=t.sent,a&&(window.EventBus.$emit("SUCCESS","Success"),e.refresh());case 29:case"end":return t.stop()}}),t)})))()},validEmail:function(e){var t=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/;return t.test(e)},disable:function(){var e=this;setTimeout((function(){e.getDisabled=window.EventBus.$data.disable}),2500)},refresh:function(){this.name=null,this.identity=null,this.email=null,this.type=null}}}),de=le,me=(a("88e4"),Object(s["a"])(de,ce,ue,!1,null,"7c98141e",null)),pe=me.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("home",{attrs:{activeTransaction:!0}}),a("div",{staticClass:"datatable"},[a("table",[a("tr",[a("th",[e._v(e._s("Name"))]),a("th",[e._v(e._s("Student ID"))]),a("th",[e._v(e._s("Email"))]),a("th",[e._v(e._s("Diploma Type"))]),a("th",[e._v(e._s("Credential Number"))]),a("th",{staticClass:"action"},[e._v(e._s("Action"))])]),e._l(e.certificates,(function(t,n){return a("tr",{key:n},[a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.identity))]),a("td",[e._v(e._s(t.email))]),a("td",[e._v(e._s(t.diploma_type))]),a("td",[e._v(e._s(t.credential_number))]),a("td",{staticClass:"action"},[a("button",{class:{disable:e.signDisabled[n]},attrs:{disabled:e.signDisabled[n]},on:{click:function(a){return e.showSignature(t.email,n)}}},[e._v(e._s("Sign"))]),a("button",{staticClass:"right-button",class:{disable:e.broadcastDisabled[n]},attrs:{disabled:e.broadcastDisabled[n]},on:{click:function(t){return e.broadcast()}}},[e._v(e._s("Broadcast"))])])])}))],2)]),e.signModal?a("signature-modal",{attrs:{email:e.email},on:{"close-modal":e.close,disable:e.disable}}):e._e()],1)},ve=[],he=(a("4160"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[e._v(e._s("Sign Certificate"))]),a("div",{staticClass:"modal-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.key,expression:"key"}],staticClass:"key",attrs:{type:"text",placeholder:"Private Key"},domProps:{value:e.key},on:{input:function(t){t.target.composing||(e.key=t.target.value)}}}),a("textarea",{attrs:{name:"signature",cols:"30",rows:"5",disabled:!0,placeholder:"Signature"},domProps:{value:e.signature}})]),a("div",{staticClass:"modal-footer"},[a("button",{on:{click:e.submit}},[e._v(e._s("Submit"))]),a("button",{staticClass:"close",on:{click:e.close}},[e._v(e._s("Close"))])])])])])])],1)}),be=[],ge={data:function(){return{key:null,signature:null,currentCertificate:null}},props:{email:{type:String,required:!0}},methods:{submit:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne.getCertificateToString({email:e.email});case 2:return a=t.sent,console.log("submit -> certificate",a),t.next=6,L.signCertificate({privateKey:e.key,data:JSON.stringify(a[0])});case 6:return n=t.sent,t.next=9,ne.createSignature({email:e.email,signature:n});case 9:r=t.sent,e.currentCertificate=r,e.signature=n,window.EventBus.$emit("SUCCESS","Success");case 13:case"end":return t.stop()}}),t)})))()},close:function(){this.$emit("close-modal",this.key,this.currentCertificate),this.$emit("disable")}}},we=ge,ye=(a("03e8"),Object(s["a"])(we,he,be,!1,null,"efcc9000",null)),_e=ye.exports,ke={components:{Home:R,SignatureModal:_e},data:function(){return{certificates:[],signModal:!1,email:null,index:0,privateKey:null,signDisabled:[],broadcastDisabled:[],currentCertificate:null}},created:function(){var e=this;ne.getCertificate().then((function(t){t.forEach((function(t){t.is_broadcasted||e.certificates.push(t)}))}))},methods:{showSignature:function(e,t){this.signModal=!0,this.email=e,this.index=t},close:function(e,t){this.privateKey=e,this.signModal=!1,this.currentCertificate=t},disable:function(){this.$set(this.signDisabled,this.index,!0)},broadcast:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L.broadcastCertificate({privateKey:e.privateKey,certificate:e.currentCertificate});case 2:return a=t.sent,t.next=5,ne.initCertificate({courseData:e.currentCertificate});case 5:setTimeout(Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne.createCertificatePDF({name:e.currentCertificate.name});case 2:case"end":return t.stop()}}),t)}))),3e3),setTimeout(Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne.sendCertificateByMail({name:e.currentCertificate.name,email:"kienle371999@gmail.com"});case 2:return t.next=4,ne.storeHash({email:e.email,blockchain_hash:a[0].receiver});case 4:e.$set(e.broadcastDisabled,e.index,!0),window.EventBus.$emit("SUCCESS","Success");case 6:case"end":return t.stop()}}),t)}))),8e3);case 7:case"end":return t.stop()}}),t)})))()}},mouted:function(){this.broadcastDisabled[0]=!0}},Ce=ke,Re=(a("fffa"),Object(s["a"])(Ce,fe,ve,!1,null,"61777f4c",null)),xe=Re.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("home",{attrs:{activeCertificate:!0}}),a("div",{staticClass:"datatable"},[a("table",[a("tr",[a("th",[e._v(e._s("Name"))]),a("th",[e._v(e._s("Student ID"))]),a("th",[e._v(e._s("Email"))]),a("th",[e._v(e._s("Diploma Type"))]),a("th",[e._v(e._s("Credential Number"))]),a("th",{staticClass:"action"},[e._v(e._s("Action"))])]),e._l(e.certificates,(function(t,n){return a("tr",{key:n},[a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.identity))]),a("td",[e._v(e._s(t.email))]),a("td",[e._v(e._s(t.diploma_type))]),a("td",[e._v(e._s(t.credential_number))]),a("td",{staticClass:"action"},[a("button",{on:{click:function(t){return e.getDetail(n)}}},[e._v(e._s("Detail"))])])])}))],2)]),e.certificateModal?a("certificate-modal",{attrs:{contractAddress:e.address},on:{"close-modal":e.close}}):e._e()],1)},Oe=[],Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dataReady?a("div",[a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[e._v(e._s("Blockchain Detail"))]),a("div",{staticClass:"modal-body"},[a("label",[e._v(e._s("Network"))]),a("input",{staticClass:"network",attrs:{type:"text",disabled:!0},domProps:{value:e.network}}),a("label",[e._v(e._s("Height"))]),a("input",{staticClass:"height",attrs:{type:"text",disabled:!0},domProps:{value:e.contractDetail.meta.height}}),a("label",[e._v(e._s("Block Hash"))]),a("input",{staticClass:"block-hash",attrs:{type:"text",disabled:!0},domProps:{value:e.contractDetail.meta.block}}),a("label",[e._v(e._s("Contract Hash"))]),a("a",{attrs:{href:e.blockchainDirectory,target:"_blank"}},[a("input",{staticClass:"contract-hash",attrs:{type:"text",disabled:!0},domProps:{value:e.contractDetail.meta.contract}})])]),a("div",{staticClass:"modal-footer"},[a("button",{on:{click:e.close}},[e._v(e._s("Close"))])])])])])])],1):e._e()},De=[],je={data:function(){return{network:"Carthagenet",contractDetail:null,blockchainDirectory:null,dataReady:!1}},props:{contractAddress:{type:String,required:!0}},created:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="https://carthagenet.tzstats.com/",n=a.concat(e.contractAddress),e.blockchainDirectory=n,t.next=5,L.getContractDetail({contractAddress:e.contractAddress});case 5:r=t.sent,e.contractDetail=r,e.dataReady=!0;case 8:case"end":return t.stop()}}),t)})))()},methods:{close:function(){this.$emit("close-modal")}}},$e=je,Pe=(a("b711"),Object(s["a"])($e,Se,De,!1,null,"1bdc8778",null)),Be=Pe.exports,Ae={components:{Home:R,CertificateModal:Be},data:function(){return{certificates:[],certificateModal:!1,address:null}},created:function(){var e=this;ne.getCertificate().then((function(t){t.forEach((function(t){t.is_broadcasted&&e.certificates.push(t)}))}))},methods:{getDetail:function(e){this.address=this.certificates[e].blockchain_hash,this.certificateModal=!0},close:function(){this.certificateModal=!1}}},Ke=Ae,Ne=(a("8008"),Object(s["a"])(Ke,Ee,Oe,!1,null,"5cc9310c",null)),Ue=Ne.exports,Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("home",{attrs:{activeAuthen:!0}}),a("div",{staticClass:"authenticate"},[a("form",{staticClass:"authen-form"},[a("h1",[e._v(e._s("Authentication"))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.credential_number,expression:"credential_number"}],attrs:{type:"text",placeholder:"Credential Number"},domProps:{value:e.credential_number},on:{input:function(t){t.target.composing||(e.credential_number=t.target.value)}}}),a("button",{attrs:{type:"button",disable:e.getDisabled},on:{click:function(t){return e.submit()}}},[e._v(e._s("Verify"))])])]),e.authenModal?a("authentication-modal",{attrs:{credentialNumber:e.credential_number,certificate:e.certificate},on:{"change-modal":e.change,"close-modal":e.close}}):e._e(),e.authenSign?a("authen-signature-modal",{attrs:{signature:e.signature,email:e.email},on:{"close-sign-modal":e.closeSign}}):e._e()],1)},Te=[],Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dataReady?a("div",[a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[e._v(e._s("Certificate Detail"))]),a("div",{staticClass:"modal-body"},[a("label",[e._v(e._s("Name"))]),a("input",{staticClass:"name",attrs:{type:"text",disabled:!0},domProps:{value:e.diploma.name}}),a("label",[e._v(e._s("Student ID"))]),a("input",{staticClass:"student-id",attrs:{type:"text",disabled:!0},domProps:{value:e.diploma.identity}}),a("label",[e._v(e._s("Diploma Type"))]),a("input",{staticClass:"diploma-type",attrs:{type:"text",disabled:!0},domProps:{value:e.diploma.diploma_type}}),a("label",[e._v(e._s("Signature"))]),a("textarea",{staticClass:"signature",attrs:{type:"text",rows:"3",disabled:!0},domProps:{value:e.diploma.signature}}),e._v(" "),a("label",[e._v(e._s("Contract Hash"))]),a("a",{attrs:{href:e.blockchainDirectory,target:"_blank"}},[a("input",{staticClass:"contract-hash",attrs:{type:"text",disabled:!0},domProps:{value:e.diploma.blockchain_hash}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"submit",on:{click:e.submit}},[e._v(e._s("Authenticate Signature"))]),a("button",{staticClass:"close",on:{click:e.close}},[e._v(e._s("Close"))])])])])])])],1):e._e()},Le=[],qe={data:function(){return{diploma:{},blockchainDirectory:null,authenSign:!1,dataReady:!1}},props:{credentialNumber:{type:String,required:!0},certificate:{type:Array,required:!0}},created:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.certificate,t.next=3,L.getContractDetail({contractAddress:a[0].blockchain_hash});case 3:n=t.sent,Object.assign(e.diploma,a[0],{signature:n["value"]["0@map"]["Signature"]}),r="https://carthagenet.tzstats.com/",i=r.concat(a[0].blockchain_hash),e.blockchainDirectory=i,e.dataReady=!0;case 9:case"end":return t.stop()}}),t)})))()},methods:{submit:function(){this.$emit("change-modal",this.diploma.signature,this.diploma.email)},close:function(){this.$emit("close-modal")}}},He=qe,ze=(a("20aa"),Object(s["a"])(He,Me,Le,!1,null,"11bb1392",null)),Fe=ze.exports,Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[e._v(e._s("Authenticate Signature"))]),a("div",{staticClass:"modal-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.key,expression:"key"}],staticClass:"key",attrs:{type:"text",placeholder:"Public Key"},domProps:{value:e.key},on:{input:function(t){t.target.composing||(e.key=t.target.value)}}}),a("textarea",{attrs:{name:"signature",cols:"30",rows:"5",disabled:!0,placeholder:"Signature"},domProps:{value:e.signature}})]),a("div",{staticClass:"modal-footer"},[a("button",{on:{click:e.submit}},[e._v(e._s("Submit"))]),a("button",{staticClass:"close",on:{click:e.close}},[e._v(e._s("Close"))])])])])])])],1)},Ge=[],Ve={data:function(){return{key:null}},props:{signature:{type:String,required:!0},email:{type:String,required:!0}},methods:{submit:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne.getCertificateToString({email:e.email});case 2:return a=t.sent,t.next=5,L.authenticateCertificate({signature:e.signature,data:JSON.stringify(a[0]),publicKey:e.key});case 5:n=t.sent,n.result?window.EventBus.$emit("SUCCESS","Valid Certificate"):window.EventBus.$emit("ERROR","Invalid Certificate");case 7:case"end":return t.stop()}}),t)})))()},close:function(){this.$emit("close-sign-modal")}}},Qe=Ve,We=(a("8339"),Object(s["a"])(Qe,Je,Ge,!1,null,"59ad0982",null)),Xe=We.exports,Ye={data:function(){return{credential_number:null,getDisabled:!1,authenModal:!1,authenSign:!1,signature:null,email:null,certificate:null}},components:{Home:R,AuthenticationModal:Fe,AuthenSignatureModal:Xe},methods:{submit:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne.getCertificateByCredential({credential_number:e.credential_number});case 2:a=t.sent,a.length&&a[0].is_broadcasted?(e.authenModal=!0,e.certificate=a):window.EventBus.$emit("ERROR","Invalid Credential Number");case 4:case"end":return t.stop()}}),t)})))()},change:function(e,t){this.signature=e,this.email=t,this.authenModal=!1,this.authenSign=!0},close:function(){this.authenModal=!1},closeSign:function(){this.authenSign=!1}}},Ze=Ye,et=(a("22b5"),Object(s["a"])(Ze,Ie,Te,!1,null,"6d1cc227",null)),tt=et.exports;n["a"].use(d["a"]);var at=localStorage.getItem("user"),nt=!!at,rt=[{path:"/",name:"LogIn",component:g},{path:"/home",name:"Home",component:R,meta:{requiresAuth:!0}},{path:"/account",name:"Account",component:J,meta:{requiresAuth:!0}},{path:"/register",name:"Register",component:oe},{path:"/forgot-password",name:"Forgot Password",component:Y},{path:"/information",name:"Information",component:pe,meta:{requiresAuth:!0}},{path:"/transaction",name:"Transaction",component:xe,meta:{requiresAuth:!0}},{path:"/certificate",name:"Certificate",component:Ue,meta:{requiresAuth:!0}},{path:"/authentication",name:"Authentication",component:tt}],it=new d["a"]({mode:"history",base:"/",routes:rt});it.beforeEach((function(e,t,a){e.matched.some((function(e){return e.meta.requiresAuth}))&&(nt?a():a({name:"LogIn"})),a()}));var st=it;n["a"].config.productionTip=!1,a("6b8c"),new n["a"]({router:st,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},6301:function(e,t,a){},"6b8c":function(e,t,a){"use strict";a.r(t),a.d(t,"EventBus",(function(){return c}));var n=a("2b0e"),r=a("a65d"),i=a.n(r),s=a("bc3a"),o=a.n(s);o.a.defaults.headers.common["Content-Type"]="application/json",o.a.defaults.headers.common["Accept"]="application/json";var c=new n["a"];window.EventBus=c,n["a"].use(i.a),c.$on("SUCCESS",(function(e){n["a"].toasted.success(e,{position:"top-right",duration:"2000"})})),c.$on("ERROR",(function(e){c.$data.disable=!0,n["a"].toasted.error(e,{position:"top-right",duration:"2000",onComplete:function(){c.$data.disable=!1}})}))},7460:function(e,t,a){},"7b3a":function(e,t,a){"use strict";var n=a("0859"),r=a.n(n);r.a},8008:function(e,t,a){"use strict";var n=a("0f74"),r=a.n(n);r.a},8339:function(e,t,a){"use strict";var n=a("6301"),r=a.n(n);r.a},8751:function(e,t,a){},"88e4":function(e,t,a){"use strict";var n=a("8751"),r=a.n(n);r.a},8907:function(e,t,a){"use strict";var n=a("c6d5"),r=a.n(n);r.a},"8ca3":function(e,t,a){},"9c0c":function(e,t,a){},b2bf:function(e,t,a){"use strict";var n=a("4677"),r=a.n(n);r.a},b711:function(e,t,a){"use strict";var n=a("2529"),r=a.n(n);r.a},c6d5:function(e,t,a){},e707:function(e,t,a){},ea62:function(e,t,a){},fffa:function(e,t,a){"use strict";var n=a("e707"),r=a.n(n);r.a}});
//# sourceMappingURL=app.f2ecc38a.js.map