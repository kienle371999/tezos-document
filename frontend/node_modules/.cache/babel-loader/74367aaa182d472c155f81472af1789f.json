{"remainingRequest":"/home/kien/Documents/blockchain-research/tezos-document/frontend/node_modules/babel-loader/lib/index.js!/home/kien/Documents/blockchain-research/tezos-document/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/kien/Documents/blockchain-research/tezos-document/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kien/Documents/blockchain-research/tezos-document/frontend/src/components/details/Authentication.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kien/Documents/blockchain-research/tezos-document/frontend/src/components/details/Authentication.vue","mtime":1600524214197},{"path":"/home/kien/Documents/blockchain-research/tezos-document/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kien/Documents/blockchain-research/tezos-document/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/kien/Documents/blockchain-research/tezos-document/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kien/Documents/blockchain-research/tezos-document/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUva2llbi9Eb2N1bWVudHMvYmxvY2tjaGFpbi1yZXNlYXJjaC90ZXpvcy1kb2N1bWVudC9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBIb21lIGZyb20gJ0AvY29tcG9uZW50cy9yb290cy9Ib21lLnZ1ZSc7CmltcG9ydCBBdXRoZW50aWNhdGlvbk1vZGFsIGZyb20gJ0AvY29tcG9uZW50cy9tb2RhbHMvQXV0aGVudGljYXRpb25Nb2RhbC52dWUnOwppbXBvcnQgQXV0aGVuU2lnbmF0dXJlTW9kYWwgZnJvbSAnQC9jb21wb25lbnRzL21vZGFscy9BdXRoZW5TaWduYXR1cmVNb2RhbC52dWUnOwppbXBvcnQgU2VydmVyUmVxdWVzdCBmcm9tICdAL3JlcXVlc3RzL1NlcnZlclJlcXVlc3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNyZWRlbnRpYWxfbnVtYmVyOiBudWxsLAogICAgICBnZXREaXNhYmxlZDogZmFsc2UsCiAgICAgIGF1dGhlbk1vZGFsOiBmYWxzZSwKICAgICAgYXV0aGVuU2lnbjogZmFsc2UsCiAgICAgIHNpZ25hdHVyZTogbnVsbCwKICAgICAgZW1haWw6IG51bGwsCiAgICAgIGNlcnRpZmljYXRlOiBudWxsCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgSG9tZTogSG9tZSwKICAgIEF1dGhlbnRpY2F0aW9uTW9kYWw6IEF1dGhlbnRpY2F0aW9uTW9kYWwsCiAgICBBdXRoZW5TaWduYXR1cmVNb2RhbDogQXV0aGVuU2lnbmF0dXJlTW9kYWwKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY2VydGlmaWNhdGU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gU2VydmVyUmVxdWVzdC5nZXRDZXJ0aWZpY2F0ZUJ5Q3JlZGVudGlhbCh7CiAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxfbnVtYmVyOiBfdGhpcy5jcmVkZW50aWFsX251bWJlcgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGNlcnRpZmljYXRlID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIWNlcnRpZmljYXRlLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICB3aW5kb3cuRXZlbnRCdXMuJGVtaXQoJ0VSUk9SJywgJ0ludmFsaWQgQ3JlZGVudGlhbCBOdW1iZXInKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWNlcnRpZmljYXRlWzBdLmlzX2Jyb2FkY2FzdGVkKSB7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5FdmVudEJ1cy4kZW1pdCgnRVJST1InLCAnSW52YWxpZCBDcmVkZW50aWFsIE51bWJlcicpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuYXV0aGVuTW9kYWwgPSB0cnVlOwogICAgICAgICAgICAgICAgICBfdGhpcy5jZXJ0aWZpY2F0ZSA9IGNlcnRpZmljYXRlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2Uoc2lnbmF0dXJlLCBlbWFpbCkgewogICAgICB0aGlzLnNpZ25hdHVyZSA9IHNpZ25hdHVyZTsKICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsOwogICAgICB0aGlzLmF1dGhlbk1vZGFsID0gZmFsc2U7CiAgICAgIHRoaXMuYXV0aGVuU2lnbiA9IHRydWU7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLmF1dGhlbk1vZGFsID0gZmFsc2U7CiAgICB9LAogICAgY2xvc2VTaWduOiBmdW5jdGlvbiBjbG9zZVNpZ24oKSB7CiAgICAgIHRoaXMuYXV0aGVuU2lnbiA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Authentication.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAA,IAAA,MAAA,6BAAA;AACA,OAAA,mBAAA,MAAA,6CAAA;AACA,OAAA,oBAAA,MAAA,8CAAA;AACA,OAAA,aAAA,MAAA,0BAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,iBAAA,EAAA,IADA;AAEA,MAAA,WAAA,EAAA,KAFA;AAGA,MAAA,WAAA,EAAA,KAHA;AAIA,MAAA,UAAA,EAAA,KAJA;AAKA,MAAA,SAAA,EAAA,IALA;AAMA,MAAA,KAAA,EAAA,IANA;AAOA,MAAA,WAAA,EAAA;AAPA,KAAA;AASA,GAXA;AAYA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA,IADA;AAEA,IAAA,mBAAA,EAAA,mBAFA;AAGA,IAAA,oBAAA,EAAA;AAHA,GAZA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,aAAA,CAAA,0BAAA,CAAA;AAAA,kBAAA,iBAAA,EAAA,KAAA,CAAA;AAAA,iBAAA,CADA;;AAAA;AACA,gBAAA,WADA;;AAEA,oBAAA,CAAA,WAAA,CAAA,MAAA,EAAA;AACA,kBAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,OAAA,EAAA,2BAAA;AACA,iBAFA,MAGA,IAAA,CAAA,WAAA,CAAA,CAAA,CAAA,CAAA,cAAA,EAAA;AACA,kBAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,OAAA,EAAA,2BAAA;AACA,iBAFA,MAGA;AACA,kBAAA,KAAA,CAAA,WAAA,GAAA,IAAA;AACA,kBAAA,KAAA,CAAA,WAAA,GAAA,WAAA;AACA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA,KAbA;AAcA,IAAA,MAdA,kBAcA,SAdA,EAcA,KAdA,EAcA;AACA,WAAA,SAAA,GAAA,SAAA;AACA,WAAA,KAAA,GAAA,KAAA;AACA,WAAA,WAAA,GAAA,KAAA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,KAnBA;AAoBA,IAAA,KApBA,mBAoBA;AACA,WAAA,WAAA,GAAA,KAAA;AACA,KAtBA;AAuBA,IAAA,SAvBA,uBAuBA;AACA,WAAA,UAAA,GAAA,KAAA;AACA;AAzBA;AAjBA,CAAA","sourcesContent":["<template>\n  <div>\n    <home :activeAuthen=\"true\"/>\n    <div class=\"authenticate\">\n      <form class=\"authen-form\">\n        <h1>{{ \"Authentication\" }}</h1>\n        <input type=\"text\" v-model=\"credential_number\" placeholder=\"Credential Number\"/>\n        <button type=\"button\" @click=\"submit()\" :disable=\"getDisabled\">{{ \"Verify\" }}</button>\n      </form>\n    </div>\n    <authentication-modal v-if=\"authenModal\" \n    :credentialNumber=\"credential_number\" \n    :certificate=\"certificate\"\n    @change-modal=\"change\"\n    @close-modal=\"close\"/>\n    <authen-signature-modal v-if=\"authenSign\" \n    :signature=\"signature\" \n    :email=\"email\"\n    @close-sign-modal=\"closeSign\"/>\n  </div>\n</template>\n\n<script>\n  import Home from '@/components/roots/Home.vue' \n  import AuthenticationModal from '@/components/modals/AuthenticationModal.vue'\n  import AuthenSignatureModal from '@/components/modals/AuthenSignatureModal.vue'\n  import ServerRequest from '@/requests/ServerRequest'\n\n  export default {\n    data() {\n      return {\n        credential_number: null,\n        getDisabled: false,\n        authenModal: false,\n        authenSign: false,\n        signature: null,\n        email: null,\n        certificate: null\n      }\n    },\n    components: {\n      Home,\n      AuthenticationModal,\n      AuthenSignatureModal\n    },\n    methods: {\n      async submit() {\n        const certificate = await ServerRequest.getCertificateByCredential({ credential_number: this.credential_number }) \n        if(!certificate.length) {\n          window.EventBus.$emit('ERROR', 'Invalid Credential Number')\n        }\n        else if(!certificate[0].is_broadcasted) {\n          window.EventBus.$emit('ERROR', 'Invalid Credential Number')\n        }\n        else {\n          this.authenModal = true\n          this.certificate = certificate\n        }\n      },\n      change(signature, email) {\n        this.signature = signature\n        this.email = email\n        this.authenModal = false\n        this.authenSign = true\n      },\n      close() {\n        this.authenModal = false\n      },\n      closeSign() {\n        this.authenSign = false\n      }\n    },\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n  h1 {\n    color: #000000;\n    margin-top: 10%;\n    margin-bottom: 20px;\n  }\n  .authen-form input {\n    font-size: 15px;\n    color: #031532;\n    border-radius: 3px;\n    padding: 15px;\n    background-color: #f3f4f5;\n    border: solid 1px rgba(3,21,50,0.13);\n    box-sizing: border-box;\n    width: 50%;\n  }\n  .authen-form button {\n    background: #000000;\n    width: 10%;\n    border: 0;\n    padding: 15px;\n    color: #FFFFFF;\n    font-size: 17px;\n    border-radius: 3px;\n    position: relative;\n    cursor: pointer;\n  }\n</style>"],"sourceRoot":"src/components/details"}]}