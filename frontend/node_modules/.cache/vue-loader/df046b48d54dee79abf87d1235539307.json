{"remainingRequest":"/home/kien/Documents/blockchain-research/tezos-document/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kien/Documents/blockchain-research/tezos-document/frontend/src/components/details/Authentication.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kien/Documents/blockchain-research/tezos-document/frontend/src/components/details/Authentication.vue","mtime":1600524214197},{"path":"/home/kien/Documents/blockchain-research/tezos-document/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kien/Documents/blockchain-research/tezos-document/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/kien/Documents/blockchain-research/tezos-document/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kien/Documents/blockchain-research/tezos-document/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIb21lIGZyb20gJ0AvY29tcG9uZW50cy9yb290cy9Ib21lLnZ1ZScgCmltcG9ydCBBdXRoZW50aWNhdGlvbk1vZGFsIGZyb20gJ0AvY29tcG9uZW50cy9tb2RhbHMvQXV0aGVudGljYXRpb25Nb2RhbC52dWUnCmltcG9ydCBBdXRoZW5TaWduYXR1cmVNb2RhbCBmcm9tICdAL2NvbXBvbmVudHMvbW9kYWxzL0F1dGhlblNpZ25hdHVyZU1vZGFsLnZ1ZScKaW1wb3J0IFNlcnZlclJlcXVlc3QgZnJvbSAnQC9yZXF1ZXN0cy9TZXJ2ZXJSZXF1ZXN0JwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjcmVkZW50aWFsX251bWJlcjogbnVsbCwKICAgICAgZ2V0RGlzYWJsZWQ6IGZhbHNlLAogICAgICBhdXRoZW5Nb2RhbDogZmFsc2UsCiAgICAgIGF1dGhlblNpZ246IGZhbHNlLAogICAgICBzaWduYXR1cmU6IG51bGwsCiAgICAgIGVtYWlsOiBudWxsLAogICAgICBjZXJ0aWZpY2F0ZTogbnVsbAogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgSG9tZSwKICAgIEF1dGhlbnRpY2F0aW9uTW9kYWwsCiAgICBBdXRoZW5TaWduYXR1cmVNb2RhbAogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgc3VibWl0KCkgewogICAgICBjb25zdCBjZXJ0aWZpY2F0ZSA9IGF3YWl0IFNlcnZlclJlcXVlc3QuZ2V0Q2VydGlmaWNhdGVCeUNyZWRlbnRpYWwoeyBjcmVkZW50aWFsX251bWJlcjogdGhpcy5jcmVkZW50aWFsX251bWJlciB9KSAKICAgICAgaWYoIWNlcnRpZmljYXRlLmxlbmd0aCkgewogICAgICAgIHdpbmRvdy5FdmVudEJ1cy4kZW1pdCgnRVJST1InLCAnSW52YWxpZCBDcmVkZW50aWFsIE51bWJlcicpCiAgICAgIH0KICAgICAgZWxzZSBpZighY2VydGlmaWNhdGVbMF0uaXNfYnJvYWRjYXN0ZWQpIHsKICAgICAgICB3aW5kb3cuRXZlbnRCdXMuJGVtaXQoJ0VSUk9SJywgJ0ludmFsaWQgQ3JlZGVudGlhbCBOdW1iZXInKQogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIHRoaXMuYXV0aGVuTW9kYWwgPSB0cnVlCiAgICAgICAgdGhpcy5jZXJ0aWZpY2F0ZSA9IGNlcnRpZmljYXRlCiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2Uoc2lnbmF0dXJlLCBlbWFpbCkgewogICAgICB0aGlzLnNpZ25hdHVyZSA9IHNpZ25hdHVyZQogICAgICB0aGlzLmVtYWlsID0gZW1haWwKICAgICAgdGhpcy5hdXRoZW5Nb2RhbCA9IGZhbHNlCiAgICAgIHRoaXMuYXV0aGVuU2lnbiA9IHRydWUKICAgIH0sCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy5hdXRoZW5Nb2RhbCA9IGZhbHNlCiAgICB9LAogICAgY2xvc2VTaWduKCkgewogICAgICB0aGlzLmF1dGhlblNpZ24gPSBmYWxzZQogICAgfQogIH0sCn0K"},{"version":3,"sources":["Authentication.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Authentication.vue","sourceRoot":"src/components/details","sourcesContent":["<template>\n  <div>\n    <home :activeAuthen=\"true\"/>\n    <div class=\"authenticate\">\n      <form class=\"authen-form\">\n        <h1>{{ \"Authentication\" }}</h1>\n        <input type=\"text\" v-model=\"credential_number\" placeholder=\"Credential Number\"/>\n        <button type=\"button\" @click=\"submit()\" :disable=\"getDisabled\">{{ \"Verify\" }}</button>\n      </form>\n    </div>\n    <authentication-modal v-if=\"authenModal\" \n    :credentialNumber=\"credential_number\" \n    :certificate=\"certificate\"\n    @change-modal=\"change\"\n    @close-modal=\"close\"/>\n    <authen-signature-modal v-if=\"authenSign\" \n    :signature=\"signature\" \n    :email=\"email\"\n    @close-sign-modal=\"closeSign\"/>\n  </div>\n</template>\n\n<script>\n  import Home from '@/components/roots/Home.vue' \n  import AuthenticationModal from '@/components/modals/AuthenticationModal.vue'\n  import AuthenSignatureModal from '@/components/modals/AuthenSignatureModal.vue'\n  import ServerRequest from '@/requests/ServerRequest'\n\n  export default {\n    data() {\n      return {\n        credential_number: null,\n        getDisabled: false,\n        authenModal: false,\n        authenSign: false,\n        signature: null,\n        email: null,\n        certificate: null\n      }\n    },\n    components: {\n      Home,\n      AuthenticationModal,\n      AuthenSignatureModal\n    },\n    methods: {\n      async submit() {\n        const certificate = await ServerRequest.getCertificateByCredential({ credential_number: this.credential_number }) \n        if(!certificate.length) {\n          window.EventBus.$emit('ERROR', 'Invalid Credential Number')\n        }\n        else if(!certificate[0].is_broadcasted) {\n          window.EventBus.$emit('ERROR', 'Invalid Credential Number')\n        }\n        else {\n          this.authenModal = true\n          this.certificate = certificate\n        }\n      },\n      change(signature, email) {\n        this.signature = signature\n        this.email = email\n        this.authenModal = false\n        this.authenSign = true\n      },\n      close() {\n        this.authenModal = false\n      },\n      closeSign() {\n        this.authenSign = false\n      }\n    },\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n  h1 {\n    color: #000000;\n    margin-top: 10%;\n    margin-bottom: 20px;\n  }\n  .authen-form input {\n    font-size: 15px;\n    color: #031532;\n    border-radius: 3px;\n    padding: 15px;\n    background-color: #f3f4f5;\n    border: solid 1px rgba(3,21,50,0.13);\n    box-sizing: border-box;\n    width: 50%;\n  }\n  .authen-form button {\n    background: #000000;\n    width: 10%;\n    border: 0;\n    padding: 15px;\n    color: #FFFFFF;\n    font-size: 17px;\n    border-radius: 3px;\n    position: relative;\n    cursor: pointer;\n  }\n</style>"]}]}